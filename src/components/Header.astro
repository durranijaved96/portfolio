---
import type { HeaderProps } from "@types"; 

const { siteLogo, navLinks = [] } = Astro.props as HeaderProps;
---
<header
  class="sticky top-0 z-40 backdrop-blur-md supports-[backdrop-filter]:bg-white/60
         dark:supports-[backdrop-filter]:bg-black/30 border-b border-white/40 dark:border-white/10"
>
  <div class="mx-auto flex h-16 w-full max-w-6xl items-center justify-between px-5 md:px-8">
    <a href="/" class="flex items-center gap-3">
      <img src={siteLogo} alt="Logo" class="h-9 w-9 rounded-full ring-1 ring-black/10 dark:ring-white/10" />
      <span class="text-sm md:text-base font-semibold tracking-tight">Waqas Javed Durrani</span>
    </a>

    <nav class="hidden md:flex items-center gap-6 text-sm">
      {navLinks.map((l: { text: string; href: string }) => (
        <a href={l.href} class="hover:text-slate-600 dark:hover:text-slate-300 transition-colors">
          {l.text}
        </a>
      ))}
      <button
        class="rounded-full border border-black/10 dark:border-white/10 px-3 py-1 text-sm hover:bg-black/5 dark:hover:bg-white/10 transition"
        onclick="(() => { const html=document.documentElement; const isDark=html.classList.toggle('dark'); localStorage.setItem('theme', isDark?'dark':'light'); })()"
        aria-label="Toggle theme"
      >
        <span class="dark:hidden">🌙</span>
        <span class="hidden dark:inline">☀️</span>
      </button>
    </nav>

    <details class="md:hidden">
      <summary class="list-none flex items-center gap-3 rounded-full border px-3 py-1 text-sm border-black/10 dark:border-white/10 hover:bg-black/5 dark:hover:bg-white/10 cursor-pointer">
        Menu
      </summary>
      <div class="mt-3 rounded-2xl border border-black/10 dark:border-white/10 bg-white/80 dark:bg-black/40 backdrop-blur-md p-2 shadow-xl">
        {navLinks.map((l: { text: string; href: string }) => (
          <a href={l.href} class="block rounded-lg px-3 py-2 text-sm hover:bg-black/5 dark:hover:bg-white/10">
            {l.text}
          </a>
        ))}
        <button
          class="mt-1 w-full rounded-lg px-3 py-2 text-left text-sm hover:bg-black/5 dark:hover:bg-white/10"
          onclick="(() => { const html=document.documentElement; const isDark=html.classList.toggle('dark'); localStorage.setItem('theme', isDark?'dark':'light'); })()"
        >
          <span class="dark:hidden">🌙 Dark mode</span>
          <span class="hidden dark:inline">☀️ Light mode</span>
        </button>
      </div>
    </details>
  </div>
</header>
